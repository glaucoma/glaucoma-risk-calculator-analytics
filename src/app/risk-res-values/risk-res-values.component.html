<button routerLink="/secret-dashboard" mat-button>â‡¦ back</button>

<div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px"
     style="width: 100%; padding: 30px 0;"
     *ngIf="dataSource != null && dataSource.data.length">
  <mat-card fxFlex="30%">
    <mat-card-title>Calculations</mat-card-title>
    <mat-card-content>
      <h1 style="font-size: 8em">{{dataSource != null && dataSource.data.length}}</h1>
    </mat-card-content>
  </mat-card>
  <mat-card fxFlex="30%">
    <mat-card-title>Ethnic distribution</mat-card-title>
    <mat-card-content>
      <ngx-charts-pie-chart fxFlex [labels]="true" [results]="ethnicity_agg" [view]="view"
                            style="text-align: left">
      </ngx-charts-pie-chart>
    </mat-card-content>
  </mat-card>
  <mat-card fxFlex="30%">
    <mat-card-title>Age distribution</mat-card-title>
    <mat-card-content>
      <ngx-charts-line-chart fxFlex [results]="age_distr"
                             [view]="view"
                             [yAxis]="true"></ngx-charts-line-chart>
    </mat-card-content>
  </mat-card>
</div>

<div class="mat-elevation-z8" *ngIf="dataSource != null">
  <mat-tab-group selectedIndex="1">
    <mat-tab label="Step 1"> TODO: show this</mat-tab>
    <mat-tab label="Step 2">
      <app-risk-res-data [dataSource]="dataSource"></app-risk-res-data>
    </mat-tab>
    <mat-tab label="Step 3"> TODO: show this</mat-tab>
  </mat-tab-group>
</div>
